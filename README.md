# åè¯ˆå«å£« - å¤§å­¦ç”Ÿåè¯ˆéª—æ•™è‚²å°ç¨‹åº

<div align="center">

[![å¾®ä¿¡å°ç¨‹åº](https://img.shields.io/badge/å¾®ä¿¡å°ç¨‹åº-åè¯ˆå«å£«-07C160?logo=wechat&logoColor=white)](https://mp.weixin.qq.com/)
[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![Cloud](https://img.shields.io/badge/äº‘å¼€å‘-å¾®ä¿¡äº‘-07C160)](https://cloud.weixin.qq.com/)

ä¸€æ¬¾ä¸“ä¸ºå¤§å­¦ç”Ÿè®¾è®¡çš„åè¯ˆéª—æ•™è‚²å°ç¨‹åºï¼Œé›†æˆAIæ™ºèƒ½åŠ©æ‰‹ï¼Œæä¾›å®æ—¶è¯ˆéª—è¯†åˆ«ä¸é˜²èŒƒå»ºè®®ã€‚

</div>

---

## ğŸ“– é¡¹ç›®ç®€ä»‹

**åè¯ˆå«å£«**æ˜¯ä¸€æ¬¾åŸºäºå¾®ä¿¡å°ç¨‹åºå’Œäº‘å¼€å‘æŠ€æœ¯çš„åè¯ˆéª—æ•™è‚²å¹³å°ï¼Œæ—¨åœ¨å¸®åŠ©å¤§å­¦ç”Ÿè¯†åˆ«å’Œé˜²èŒƒå„ç±»è¯ˆéª—è¡Œä¸ºã€‚é¡¹ç›®é›†æˆäº†é€šä¹‰åƒé—®AIå¤§æ¨¡å‹ï¼Œæä¾›æ™ºèƒ½åŒ–çš„åè¯ˆéª—å’¨è¯¢æœåŠ¡ã€‚

### æ ¸å¿ƒåŠŸèƒ½

- ğŸ›¡ï¸ **åè¯ˆçŸ¥è¯†åº“** - æä¾›ä¸°å¯Œçš„é˜²éª—æ–‡ç« ï¼Œæ¶µç›–åˆ·å•è¯ˆéª—ã€æ ¡å›­è´·ã€ç½‘è´­é€€æ¬¾ç­‰å¸¸è§éª—å±€
- ğŸ¤– **AIæ™ºèƒ½åŠ©æ‰‹** - é›†æˆé€šä¹‰åƒé—®APIï¼Œå®æ—¶è§£ç­”ç”¨æˆ·ç–‘é—®ï¼Œåˆ†æå¯ç–‘æƒ…å†µ
- ğŸ“ **å­¦ç”Ÿè®¤è¯** - æ”¯æŒå­¦å·ç»‘å®šï¼Œé’ˆå¯¹æ€§æä¾›æ ¡å›­é˜²è¯ˆéª—å†…å®¹
- âœ… **ç­¾åˆ°æ‰“å¡** - æ¯æ—¥ç­¾åˆ°è·å–ç§¯åˆ†ï¼Œæ¿€åŠ±ç”¨æˆ·æŒç»­å­¦ä¹ 
- ğŸ† **æˆå°±ç³»ç»Ÿ** - é€šè¿‡é˜…è¯»ã€ç­¾åˆ°ç­‰è¡Œä¸ºè§£é”æˆå°±ï¼Œå¢å¼ºç”¨æˆ·å‚ä¸æ„Ÿ
- ğŸ“Š **ä¸ªäººä¸­å¿ƒ** - ç®¡ç†ä¸ªäººä¿¡æ¯ã€æŸ¥çœ‹å­¦ä¹ è¿›åº¦å’Œç§¯åˆ†

### v3 æ–°å¢åŠŸèƒ½ï¼ˆç‰ˆæœ¬è¿­ä»£ï¼‰

- ğŸ§  **åè¯ˆçŸ¥è¯†è¶£å‘³ç­”é¢˜** - äº‘ç«¯é¢˜åº“ï¼ˆ50é¢˜ï¼‰ã€éšæœºæŠ½é¢˜10é¢˜ã€æœåŠ¡ç«¯åˆ¤åˆ†ä¸è§£æ
- ğŸ… **ç­”é¢˜æ’è¡Œæ¦œ** - ä»¥ç­”é¢˜ç§¯åˆ†ï¼ˆç´¯è®¡ç­”å¯¹é¢˜æ•°ï¼‰æ’åå¯¹æ¯”
- â­ **ç­”é¢˜ç§¯åˆ†å¥–åŠ±** - æ¯ç­”å¯¹1é¢˜å¥–åŠ±1å•†åŸç§¯åˆ†ï¼Œæ¯æ—¥ä¸Šé™30ï¼ˆæŒ‰åŒ—äº¬æ—¶é—´ UTC+8 é‡ç½®ï¼‰
- ğŸ§© **ç§°å·/æˆå°±æ‰©å±•** - æ–°å¢ç­”é¢˜ç±»æˆå°±ä¸ç§°å·ï¼Œè§£é”åå¯åœ¨ä¸ªäººä¸­å¿ƒä½©æˆ´
- ğŸ—£ï¸ **ç¤¾åŒºæ¿å—** - ç”¨æˆ·å¯è‡ªç”±å‘å¸ƒå¸–å­ï¼ˆå†…å®¹ç›‘ç®¡/å±è”½é¢„ç•™åç»­ç‰ˆæœ¬ï¼‰
- ğŸ’¬ **è¯„è®ºä¸å›å¤** - èµ„è®¯ä¸ç¤¾åŒºå¸–å­å‡æ”¯æŒè¯„è®ºã€å›å¤è¯„è®º
- ğŸ‘¤ **ä¸ªäººä¸»é¡µ** - ç‚¹å‡»å¤´åƒæŸ¥çœ‹ä»–äººä¸»é¡µï¼ˆç§°å·/å±•ç¤ºæˆå°±/ç­”é¢˜ç§¯åˆ†/å…³æ³¨ï¼‰
- â• **å…³æ³¨ä¸ç«™å†…æ¶ˆæ¯** - å…³æ³¨ç”¨æˆ·å‘å¸–è§¦å‘ç«™å†…é€šçŸ¥ï¼›å³ä¸Šè§’é€šçŸ¥å…¥å£è¿›å…¥æ¶ˆæ¯é¡µ
- ğŸ” **æœç´¢** - æœç´¢èµ„è®¯ä¸ç”¨æˆ·
- ğŸ“£ **è¯ˆéª—åé¦ˆ** - ç±»ä¼¼å®˜æ–¹åé¦ˆå…¥å£ï¼Œæäº¤åå¼¹çª—æç¤ºæ‹¨æ‰“96110
- ğŸ **ç§¯åˆ†å•†åŸå¢å¼º** - æ–°å¢æµé‡å¡/è¯è´¹å……å€¼å¡ï¼ˆä»…è®°å½•+æ‰£ç§¯åˆ†+äººå·¥å‘æ”¾ï¼‰ï¼Œå¹¶ä¿®å¤æ‰£ç§¯åˆ†/æ‰£åº“å­˜é€»è¾‘

---

## ğŸ¯ é¡¹ç›®ç‰¹è‰²

### 1. AI æ™ºèƒ½å¯¹è¯
- é›†æˆ**é€šä¹‰åƒé—®3**å¤§è¯­è¨€æ¨¡å‹
- æ”¯æŒ**ä¸Šä¸‹æ–‡è®°å¿†**ï¼ˆä¿ç•™æœ€è¿‘5è½®å¯¹è¯ï¼‰
- æ™ºèƒ½è¯†åˆ«è¯ˆéª—ç±»å‹å¹¶æä¾›ä¸“ä¸šå»ºè®®
- éšç§ä¿æŠ¤ï¼šå¯¹è¯è®°å½•ä»…å­˜å‚¨åœ¨ç”¨æˆ·æœ¬åœ°

### 2. åˆ†ç±»å†…å®¹ç®¡ç†
- æ”¯æŒå¤šç§è¯ˆéª—ç±»å‹åˆ†ç±»ï¼šåˆ·å•è¯ˆéª—ã€æ ¡å›­è´·ã€ç½‘è´­é€€æ¬¾ã€æ€çŒªç›˜ã€æŠ•èµ„ç†è´¢ç­‰
- æ–‡ç« æ ‡ç­¾ç³»ç»Ÿï¼šç´§æ€¥é¢„è­¦ã€æ¡ˆä¾‹åˆ†æã€é˜²éª—çŸ¥è¯†ã€çŸ¥è¯†ç§‘æ™®ç­‰
- å®æ—¶æµè§ˆé‡ç»Ÿè®¡ä¸æ’åº

### 3. äº‘ç«¯æ•°æ®åŒæ­¥
- æ–‡ç« å†…å®¹äº‘ç«¯ç®¡ç†ï¼ˆæ”¯æŒCMSå†…å®¹ç®¡ç†ï¼‰
- ç”¨æˆ·æ•°æ®äº‘ç«¯å­˜å‚¨
- è½®æ’­å›¾åŠ¨æ€é…ç½®
- ç¦»çº¿æ•°æ®é™çº§æ–¹æ¡ˆ

### 4. æ¸¸æˆåŒ–æ¿€åŠ±æœºåˆ¶
- æ¯æ—¥ç­¾åˆ°å¥–åŠ±ç§¯åˆ†
- é˜…è¯»æ–‡ç« å¢åŠ ç»éªŒ
- æˆå°±ç³»ç»Ÿæ¿€åŠ±å­¦ä¹ 
- é¦–æ¬¡ç»‘å®šå­¦å·å¥–åŠ±50ç§¯åˆ†

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯
- **æ¡†æ¶**: å¾®ä¿¡å°ç¨‹åºåŸç”Ÿæ¡†æ¶
- **UI**: è‡ªå®šä¹‰ç»„ä»¶ + WXSSæ ·å¼
- **çŠ¶æ€ç®¡ç†**: æœ¬åœ°ç¼“å­˜ + äº‘ç«¯åŒæ­¥

### åç«¯
- **äº‘å¼€å‘**: å¾®ä¿¡äº‘å¼€å‘ï¼ˆCloud Baseï¼‰
- **æ•°æ®åº“**: äº‘æ•°æ®åº“ï¼ˆNoSQLï¼‰
- **äº‘å‡½æ•°**: Node.js
- **äº‘å­˜å‚¨**: ç”¨äºå­˜å‚¨ç”¨æˆ·å¤´åƒã€è½®æ’­å›¾ç­‰

### AIæœåŠ¡
- **æ¨¡å‹**: é€šä¹‰åƒé—®ï¼ˆQwen-Turbo/Plus/Maxï¼‰
- **æ¥å…¥**: é˜¿é‡Œäº‘DashScope API

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
miniprogram-14/
â”œâ”€â”€ app.js                    # å°ç¨‹åºå…¥å£æ–‡ä»¶
â”œâ”€â”€ app.json                  # å°ç¨‹åºé…ç½®æ–‡ä»¶
â”œâ”€â”€ app.wxss                  # å…¨å±€æ ·å¼
â”œâ”€â”€ project.config.json       # é¡¹ç›®é…ç½®
â”œâ”€â”€ sitemap.json             # æœç´¢ä¼˜åŒ–é…ç½®
â”‚
â”œâ”€â”€ pages/                   # é¡µé¢ç›®å½•
â”‚   â”œâ”€â”€ index/              # é¦–é¡µ - æ–‡ç« åˆ—è¡¨
â”‚   â”œâ”€â”€ community/          # ç¤¾åŒº - å¸–å­æµï¼ˆv3ï¼‰
â”‚   â”œâ”€â”€ community-post-create/ # å‘å¸–ï¼ˆv3ï¼‰
â”‚   â”œâ”€â”€ community-post-detail/ # å¸–å­è¯¦æƒ…+è¯„è®ºï¼ˆv3ï¼‰
â”‚   â”œâ”€â”€ chat/               # AIèŠå¤©é¡µé¢
â”‚   â”œâ”€â”€ user/               # ç”¨æˆ·ä¸­å¿ƒ
â”‚   â”œâ”€â”€ messages/           # ç«™å†…é€šçŸ¥ï¼ˆv3ï¼‰
â”‚   â”œâ”€â”€ article-detail/     # æ–‡ç« è¯¦æƒ…
â”‚   â”œâ”€â”€ quiz/               # è¶£å‘³ç­”é¢˜ï¼ˆv3ï¼‰
â”‚   â”œâ”€â”€ quiz-leaderboard/   # ç­”é¢˜æ’è¡Œæ¦œï¼ˆv3ï¼‰
â”‚   â”œâ”€â”€ search/             # æœç´¢ï¼ˆv3ï¼‰
â”‚   â”œâ”€â”€ profile/            # ä¸ªäººä¸»é¡µï¼ˆv3ï¼‰
â”‚   â”œâ”€â”€ scam-report/        # è¯ˆéª—åé¦ˆï¼ˆv3ï¼‰
â”‚   â”œâ”€â”€ redeem-info/        # å…‘æ¢ä¿¡æ¯å¡«å†™ï¼ˆv3ï¼‰
â”‚   â”œâ”€â”€ bind-student/       # å­¦ç”Ÿä¿¡æ¯ç»‘å®š
â”‚   â”œâ”€â”€ achievements/       # æˆå°±é¡µé¢
â”‚   â”œâ”€â”€ points/            # ç§¯åˆ†é¡µé¢
â”‚   â”œâ”€â”€ learning/          # å­¦ä¹ è®°å½•
â”‚   â”œâ”€â”€ settings/          # è®¾ç½®é¡µé¢
â”‚   â”œâ”€â”€ feedback/          # åé¦ˆé¡µé¢
â”‚   â””â”€â”€ about/             # å…³äºé¡µé¢
â”‚
â”œâ”€â”€ cloudfunctions/         # äº‘å‡½æ•°ç›®å½•
â”‚   â”œâ”€â”€ login/             # ç”¨æˆ·ç™»å½•/æ³¨å†Œ
â”‚   â”œâ”€â”€ aiChat/            # AIå¯¹è¯æœåŠ¡
â”‚   â”œâ”€â”€ bindStudent/       # å­¦ç”Ÿä¿¡æ¯ç»‘å®š
â”‚   â”œâ”€â”€ userSignIn/        # ç”¨æˆ·ç­¾åˆ°
â”‚   â”œâ”€â”€ getArticles/       # è·å–æ–‡ç« åˆ—è¡¨
â”‚   â”œâ”€â”€ getArticleDetail/  # è·å–æ–‡ç« è¯¦æƒ…
â”‚   â”œâ”€â”€ getSchools/        # è·å–å­¦æ ¡åˆ—è¡¨
â”‚   â”œâ”€â”€ initQuizQuestions/ # åˆå§‹åŒ–ç­”é¢˜é¢˜åº“ï¼ˆv3ï¼‰
â”‚   â”œâ”€â”€ getQuizQuestions/  # æŠ½é¢˜ï¼ˆv3ï¼‰
â”‚   â”œâ”€â”€ submitQuizAttempt/ # äº¤å·åˆ¤åˆ†/å‘æ”¾ç§¯åˆ†ï¼ˆv3ï¼‰
â”‚   â”œâ”€â”€ getQuizLeaderboard/# æ’è¡Œæ¦œï¼ˆv3ï¼‰
â”‚   â”œâ”€â”€ createPost/        # å‘å¸–ï¼ˆv3ï¼‰
â”‚   â”œâ”€â”€ getPosts/          # å¸–å­æµï¼ˆv3ï¼‰
â”‚   â”œâ”€â”€ getPostDetail/     # å¸–å­è¯¦æƒ…ï¼ˆv3ï¼‰
â”‚   â”œâ”€â”€ createComment/     # è¯„è®º/å›å¤ï¼ˆv3ï¼‰
â”‚   â”œâ”€â”€ getComments/       # è¯„è®ºåˆ—è¡¨ï¼ˆv3ï¼‰
â”‚   â”œâ”€â”€ followUser/        # å…³æ³¨/å–å…³ï¼ˆv3ï¼‰
â”‚   â”œâ”€â”€ getNotifications/  # é€šçŸ¥åˆ—è¡¨ï¼ˆv3ï¼‰
â”‚   â”œâ”€â”€ markNotificationRead/ # æ ‡è®°å·²è¯»ï¼ˆv3ï¼‰
â”‚   â”œâ”€â”€ getUnreadCount/    # æœªè¯»æ•°ï¼ˆv3ï¼‰
â”‚   â”œâ”€â”€ searchArticles/    # æœç´¢èµ„è®¯ï¼ˆv3ï¼‰
â”‚   â”œâ”€â”€ searchUsers/       # æœç´¢ç”¨æˆ·ï¼ˆv3ï¼‰
â”‚   â”œâ”€â”€ createScamReport/  # è¯ˆéª—åé¦ˆï¼ˆv3ï¼‰
â”‚   â”œâ”€â”€ getPublicProfile/  # ä¸ªäººä¸»é¡µï¼ˆv3ï¼‰
â”‚   â””â”€â”€ updateProfileDisplay/ # æˆå°±å±•ç¤ºä½ï¼ˆv3ï¼‰
â”‚
â”œâ”€â”€ images/                 # å›¾ç‰‡èµ„æº
â”‚   â”œâ”€â”€ åè¯ˆéª—.png
â”‚   â”œâ”€â”€ ä¸ªäººä¸­å¿ƒ.png
â”‚   â””â”€â”€ ai-èŠå¤©-æ€è€ƒ.png
â”‚
â””â”€â”€ utils/                  # å·¥å…·å‡½æ•°
    â””â”€â”€ util.js
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- å¾®ä¿¡å¼€å‘è€…å·¥å…· >= 1.06.0
- å¾®ä¿¡å°ç¨‹åºåŸºç¡€åº“ >= 2.2.3
- Node.js >= 12.0ï¼ˆç”¨äºäº‘å‡½æ•°å¼€å‘ï¼‰

### å®‰è£…æ­¥éª¤

#### 1. å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/your-repo/miniprogram-14.git
cd miniprogram-14
```

#### 2. é…ç½®å°ç¨‹åº AppID
åœ¨ `project.config.json` ä¸­ä¿®æ”¹ `appid`ï¼š
```json
{
  "appid": "ä½ çš„å°ç¨‹åºAppID"
}
```

#### 3. é…ç½®äº‘å¼€å‘ç¯å¢ƒ
åœ¨ `app.js` ä¸­ä¿®æ”¹äº‘ç¯å¢ƒIDï¼š
```javascript
wx.cloud.init({
  env: 'your-cloud-env-id', // æ›¿æ¢ä¸ºä½ çš„äº‘ç¯å¢ƒID
  traceUser: true,
})
```

#### 4. é…ç½®é€šä¹‰åƒé—® API Keyï¼ˆå¯é€‰ï¼‰
åœ¨ `cloudfunctions/aiChat/index.js` ä¸­é…ç½®ï¼š
```javascript
const QWEN_API_KEY = 'sk-your-api-key-here'
```

> ğŸ’¡ **æç¤º**: å¦‚æœä¸é…ç½®API Keyï¼ŒAIåŠ©æ‰‹å°†ä½¿ç”¨æœ¬åœ°å…³é”®è¯åŒ¹é…å›å¤ã€‚

#### 5. éƒ¨ç½²äº‘å‡½æ•°
åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­ï¼Œå³é”®æ¯ä¸ªäº‘å‡½æ•°æ–‡ä»¶å¤¹ï¼Œé€‰æ‹©ï¼š
- **ä¸Šä¼ å¹¶éƒ¨ç½²ï¼šäº‘ç«¯å®‰è£…ä¾èµ–**

éœ€è¦éƒ¨ç½²çš„äº‘å‡½æ•°ï¼š
- `login`
- `aiChat`
- `bindStudent`
- `userSignIn`
- `getArticles`
- `getArticleDetail`
- `getSchools`
- `initQuizQuestions`ï¼ˆæ‰§è¡Œä¸€æ¬¡åˆå§‹åŒ–é¢˜åº“ï¼‰
- `getQuizQuestions`
- `submitQuizAttempt`
- `getQuizLeaderboard`
- `createPost`
- `getPosts`
- `getPostDetail`
- `createComment`
- `getComments`
- `followUser`
- `getNotifications`
- `markNotificationRead`
- `getUnreadCount`
- `searchArticles`
- `searchUsers`
- `createScamReport`
- `getPublicProfile`
- `updateProfileDisplay`

#### 6. åˆ›å»ºæ•°æ®åº“é›†åˆ
åœ¨äº‘å¼€å‘æ§åˆ¶å°åˆ›å»ºä»¥ä¸‹æ•°æ®åº“é›†åˆï¼š

| é›†åˆåç§° | è¯´æ˜ | æƒé™è®¾ç½® |
|---------|------|---------|
| `users` | ç”¨æˆ·ä¿¡æ¯ | ä»…åˆ›å»ºè€…å¯è¯»å†™ |
| `articles` | æ–‡ç« æ•°æ® | æ‰€æœ‰ç”¨æˆ·å¯è¯»ï¼Œä»…ç®¡ç†å‘˜å¯å†™ |
| `banners` | è½®æ’­å›¾æ•°æ® | æ‰€æœ‰ç”¨æˆ·å¯è¯»ï¼Œä»…ç®¡ç†å‘˜å¯å†™ |
| `schools` | å­¦æ ¡ä¿¡æ¯ | æ‰€æœ‰ç”¨æˆ·å¯è¯» |
| `bind_logs` | ç»‘å®šæ—¥å¿— | ä»…åˆ›å»ºè€…å¯è¯»å†™ |
| `public_profiles` | å…¬å…±èµ„æ–™ï¼ˆv3ï¼‰ | æ‰€æœ‰ç”¨æˆ·å¯è¯»ï¼Œå»ºè®®ä»…äº‘å‡½æ•°å†™ |
| `quiz_questions` | ç­”é¢˜é¢˜åº“ï¼ˆv3ï¼‰ | æ‰€æœ‰ç”¨æˆ·å¯è¯»ï¼Œå»ºè®®ä»…äº‘å‡½æ•°å†™ |
| `quiz_attempts` | ç­”é¢˜è®°å½•ï¼ˆv3ï¼‰ | ä»…åˆ›å»ºè€…å¯è¯»å†™ |
| `posts` | ç¤¾åŒºå¸–å­ï¼ˆv3ï¼‰ | è¯»å¼€æ”¾ï¼›å†™å»ºè®®ä»…åˆ›å»ºè€…/äº‘å‡½æ•° |
| `comments` | è¯„è®ºï¼ˆv3ï¼‰ | è¯»å¼€æ”¾ï¼›å†™å»ºè®®ä»…åˆ›å»ºè€…/äº‘å‡½æ•° |
| `follows` | å…³æ³¨å…³ç³»ï¼ˆv3ï¼‰ | ä»…åˆ›å»ºè€…å¯è¯»å†™ï¼ˆæˆ–ä»…äº‘å‡½æ•°å†™ï¼‰ |
| `notifications` | ç«™å†…é€šçŸ¥ï¼ˆv3ï¼‰ | ä»…åˆ›å»ºè€…å¯è¯»å†™ |
| `scam_reports` | è¯ˆéª—åé¦ˆï¼ˆv3ï¼‰ | ä»…åˆ›å»ºè€…å¯è¯»å†™ï¼ˆæˆ–ä»…äº‘å‡½æ•°å†™ï¼‰ |

#### 7. è¿è¡Œé¡¹ç›®
åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­ç‚¹å‡»**ç¼–è¯‘**å³å¯é¢„è§ˆã€‚

---

## ğŸ“Š æ•°æ®åº“è®¾è®¡

### users é›†åˆ
```javascript
{
  _id: ObjectId,
  _openid: String,          // ç”¨æˆ·å”¯ä¸€æ ‡è¯†
  nickName: String,         // æ˜µç§°
  avatarUrl: String,        // å¤´åƒäº‘å­˜å‚¨è·¯å¾„
  studentId: String,        // å­¦å·ï¼ˆå¯é€‰ï¼‰
  schoolId: String,         // å­¦æ ¡IDï¼ˆå¯é€‰ï¼‰
  schoolName: String,       // å­¦æ ¡åç§°ï¼ˆå¯é€‰ï¼‰
  isBound: Boolean,         // æ˜¯å¦ç»‘å®šå­¦å·
  signDays: Number,         // è¿ç»­ç­¾åˆ°å¤©æ•°
  points: Number,           // ç§¯åˆ†
  achievements: Array,      // æˆå°±åˆ—è¡¨
  displayAchievementIds: Array, // ä¸»é¡µå±•ç¤ºæˆå°±ï¼ˆv3ï¼‰
  quizPoints: Number,       // ç­”é¢˜æ’è¡Œæ¦œç§¯åˆ†ï¼ˆv3ï¼‰
  quizTotalAttempts: Number,// ç´¯è®¡ç­”é¢˜æ¬¡æ•°ï¼ˆv3ï¼‰
  quizTotalCorrect: Number, // ç´¯è®¡ç­”å¯¹é¢˜æ•°ï¼ˆv3ï¼‰
  quizMaxCorrect: Number,   // å•æ¬¡æœ€é«˜ç­”å¯¹æ•°ï¼ˆv3ï¼‰
  quizRewardDailyDate: String,    // ç­”é¢˜å¥–åŠ±æ—¥æœŸï¼ˆv3ï¼ŒUTC+8ï¼‰
  quizRewardDailyAwarded: Number, // ä»Šæ—¥å·²å¥–åŠ±ç§¯åˆ†ï¼ˆv3ï¼Œä¸Šé™30ï¼‰
  totalReadCount: Number,   // é˜…è¯»æ–‡ç« æ•°
  totalChatCount: Number,   // AIå¯¹è¯æ¬¡æ•°
  lastSignDate: String,     // æœ€åç­¾åˆ°æ—¥æœŸï¼ˆYYYY-MM-DDï¼‰
  createdAt: Date,          // åˆ›å»ºæ—¶é—´
  updatedAt: Date           // æ›´æ–°æ—¶é—´
}
```

### articles é›†åˆ
```javascript
{
  _id: ObjectId,
  title: String,            // æ–‡ç« æ ‡é¢˜
  tag: String,              // æ ‡ç­¾ï¼ˆç´§æ€¥é¢„è­¦/æ¡ˆä¾‹åˆ†æ/é˜²éª—çŸ¥è¯†ç­‰ï¼‰
  tagType: String,          // æ ‡ç­¾ç±»å‹ï¼ˆdanger/warning/infoï¼‰
  category: String,         // åˆ†ç±»ï¼ˆåˆ·å•è¯ˆéª—/æ ¡å›­è´·/ç½‘è´­é€€æ¬¾ç­‰ï¼‰
  content: String,          // æ–‡ç« å†…å®¹ï¼ˆå¯Œæ–‡æœ¬ï¼‰
  coverImage: String,       // å°é¢å›¾ï¼ˆäº‘å­˜å‚¨è·¯å¾„ï¼‰
  author: String,           // ä½œè€…
  views: Number,            // æµè§ˆé‡
  timestamp: Number,        // å‘å¸ƒæ—¶é—´æˆ³
  status: String            // çŠ¶æ€ï¼ˆ1=è‰ç¨¿, 2=å·²å‘å¸ƒï¼‰
}
```

### banners é›†åˆ
```javascript
{
  _id: ObjectId,
  title: String,            // æ ‡é¢˜
  desc: String,             // æè¿°
  icon: String,             // å›¾æ ‡ï¼ˆemojiæˆ–URLï¼‰
  image: String,            // å›¾ç‰‡ï¼ˆäº‘å­˜å‚¨è·¯å¾„ï¼‰
  bgColor: String,          // èƒŒæ™¯è‰²/æ¸å˜
  link: String,             // è·³è½¬é“¾æ¥
  sort: Number,             // æ’åºï¼ˆå‡åºï¼‰
  status: Boolean           // æ˜¯å¦å¯ç”¨
}
```

---

## ğŸ”‘ äº‘å‡½æ•°è¯´æ˜

### login - ç”¨æˆ·ç™»å½•
**åŠŸèƒ½**: è·å–ç”¨æˆ·openidï¼Œè‡ªåŠ¨åˆ›å»º/æ›´æ–°ç”¨æˆ·ä¿¡æ¯

**è¾“å…¥å‚æ•°**:
```javascript
{
  nickName: String,  // æ˜µç§°ï¼ˆå¯é€‰ï¼‰
  avatarUrl: String  // å¤´åƒï¼ˆå¯é€‰ï¼‰
}
```

**è¿”å›æ•°æ®**:
```javascript
{
  success: Boolean,
  data: {
    openid: String,
    userInfo: Object
  }
}
```

### aiChat - AIå¯¹è¯
**åŠŸèƒ½**: è°ƒç”¨é€šä¹‰åƒé—®APIï¼Œç”Ÿæˆæ™ºèƒ½å›å¤

**è¾“å…¥å‚æ•°**:
```javascript
{
  message: String,      // ç”¨æˆ·æ¶ˆæ¯
  history: Array,       // å¯¹è¯å†å²ï¼ˆæœ€è¿‘5è½®ï¼‰
  imageUrl: String      // å›¾ç‰‡URLï¼ˆå¯é€‰ï¼Œæš‚ä¸æ”¯æŒï¼‰
}
```

**è¿”å›æ•°æ®**:
```javascript
{
  success: Boolean,
  data: {
    reply: String       // AIå›å¤å†…å®¹
  }
}
```

### bindStudent - ç»‘å®šå­¦ç”Ÿä¿¡æ¯
**åŠŸèƒ½**: éªŒè¯å¹¶ç»‘å®šå­¦å·ï¼Œå¥–åŠ±ç§¯åˆ†

**è¾“å…¥å‚æ•°**:
```javascript
{
  studentId: String,     // å­¦å·ï¼ˆå¿…å¡«ï¼Œ10ä½æ•°å­—ï¼‰
  schoolId: String,      // å­¦æ ¡IDï¼ˆå¿…å¡«ï¼‰
  schoolName: String,    // å­¦æ ¡åç§°
  realName: String,      // çœŸå®å§“åï¼ˆå¯é€‰ï¼‰
  grade: String,         // å¹´çº§ï¼ˆå¯é€‰ï¼‰
  // ... å…¶ä»–å¯é€‰å­—æ®µ
}
```

**è¿”å›æ•°æ®**:
```javascript
{
  success: Boolean,
  data: {
    userInfo: Object,
    isFirstBind: Boolean,
    rewardPoints: Number  // é¦–æ¬¡ç»‘å®šå¥–åŠ±50ç§¯åˆ†
  }
}
```

### userSignIn - ç”¨æˆ·ç­¾åˆ°
**åŠŸèƒ½**: æ¯æ—¥ç­¾åˆ°ï¼Œå¢åŠ ç§¯åˆ†å’Œè¿ç»­å¤©æ•°

**è¿”å›æ•°æ®**:
```javascript
{
  success: Boolean,
  data: {
    signDays: Number,      // è¿ç»­ç­¾åˆ°å¤©æ•°
    points: Number,        // å½“å‰æ€»ç§¯åˆ†
    earnedPoints: Number,  // æœ¬æ¬¡è·å¾—ç§¯åˆ†
    lastSignDate: String   // ç­¾åˆ°æ—¥æœŸï¼ˆYYYY-MM-DDï¼‰
  },
  message: String          // ç­¾åˆ°æˆåŠŸæ¶ˆæ¯
}
```

---

## ğŸ¨ ç•Œé¢å±•ç¤º

### é¦–é¡µ
- è½®æ’­å›¾å±•ç¤ºåè¯ˆéª—çŸ¥è¯†è¦ç‚¹
- åˆ†ç±»ç­›é€‰ï¼ˆå…¨éƒ¨/åˆ·å•è¯ˆéª—/æ ¡å›­è´·/ç½‘è´­é€€æ¬¾ç­‰ï¼‰
- æ–‡ç« åˆ—è¡¨ï¼ˆæ ‡ç­¾ã€æ ‡é¢˜ã€æµè§ˆé‡ã€å‘å¸ƒæ—¶é—´ï¼‰
- æœç´¢åŠŸèƒ½

### AIåŠ©æ‰‹
- å®æ—¶å¯¹è¯ç•Œé¢
- æ”¯æŒæ–‡å­—è¾“å…¥
- ä¸Šä¸‹æ–‡è®°å¿†ï¼ˆ5è½®å¯¹è¯ï¼‰
- éšç§æç¤ºï¼šå¯¹è¯ä»…ä¿å­˜æœ¬åœ°
- æ¸…é™¤å†å²è®°å½•åŠŸèƒ½

### ç”¨æˆ·ä¸­å¿ƒ
- å¤´åƒå’Œæ˜µç§°å±•ç¤ºï¼ˆå¯ç¼–è¾‘ï¼‰
- ç­¾åˆ°æ‰“å¡ï¼ˆæ˜¾ç¤ºè¿ç»­å¤©æ•°ï¼‰
- ç§¯åˆ†ã€æˆå°±æ•°æ®å±•ç¤º
- åŠŸèƒ½å…¥å£ï¼šå­¦ä¹ è®°å½•ã€ç§¯åˆ†å•†åŸã€è®¾ç½®ã€åé¦ˆã€å…³äº

---

## ğŸ” éšç§ä¿æŠ¤

æœ¬é¡¹ç›®é«˜åº¦é‡è§†ç”¨æˆ·éšç§ï¼š

âœ… **AIå¯¹è¯è®°å½•**ï¼šä»…ä¿å­˜åœ¨ç”¨æˆ·æ‰‹æœºæœ¬åœ°ï¼Œä¸ä¸Šä¼ åˆ°æœåŠ¡å™¨  
âœ… **ä¸Šä¸‹æ–‡è®°å¿†**ï¼šä¸´æ—¶å­˜å‚¨åœ¨å‰ç«¯ï¼Œä¸æŒä¹…åŒ–åˆ°æ•°æ®åº“  
âœ… **æ•°æ®æƒé™**ï¼šç”¨æˆ·æ•°æ®ä»…åˆ›å»ºè€…å¯è¯»å†™  
âœ… **å­¦å·éªŒè¯**ï¼šæ”¯æŒå­¦ç”Ÿèº«ä»½éªŒè¯ï¼Œä½†ä¸å¼ºåˆ¶è¦æ±‚  

---

## âš™ï¸ é…ç½®è¯´æ˜

### é€šä¹‰åƒé—® API é…ç½®

1. **è·å– API Key**
   - è®¿é—®[é˜¿é‡Œäº‘DashScope](https://dashscope.aliyun.com/)
   - æ³¨å†Œå¹¶åˆ›å»ºåº”ç”¨
   - å¤åˆ¶ API Key

2. **é…ç½®äº‘å‡½æ•°**
   ä¿®æ”¹ `cloudfunctions/aiChat/index.js`ï¼š
   ```javascript
   const QWEN_API_KEY = 'sk-your-api-key-here'
   const QWEN_MODEL = 'qwen-turbo'  // æˆ– 'qwen-plus', 'qwen-max'
   ```

3. **è°ƒæ•´è¶…æ—¶æ—¶é—´**
   åœ¨äº‘å¼€å‘æ§åˆ¶å°ï¼Œè®¾ç½® `aiChat` äº‘å‡½æ•°è¶…æ—¶æ—¶é—´ä¸º **20ç§’**

### äº‘å‡½æ•°ä¾èµ–

`aiChat` äº‘å‡½æ•°éœ€è¦å®‰è£… `axios`ï¼š

åœ¨äº‘å‡½æ•°ç›®å½•ä¸‹åˆ›å»º `package.json`ï¼š
```json
{
  "name": "aiChat",
  "version": "1.0.0",
  "dependencies": {
    "wx-server-sdk": "latest",
    "axios": "^1.6.0"
  }
}
```

ç„¶ååœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­å³é”®äº‘å‡½æ•°ï¼Œé€‰æ‹©**ä¸Šä¼ å¹¶éƒ¨ç½²ï¼šäº‘ç«¯å®‰è£…ä¾èµ–**ã€‚

---

## ğŸ“ å¼€å‘è®¡åˆ’

### å·²å®Œæˆ
- âœ… ç”¨æˆ·ç™»å½•ä¸ä¿¡æ¯ç®¡ç†
- âœ… AIæ™ºèƒ½å¯¹è¯ï¼ˆé€šä¹‰åƒé—®é›†æˆï¼‰
- âœ… æ–‡ç« åˆ—è¡¨ä¸è¯¦æƒ…å±•ç¤º
- âœ… åˆ†ç±»ç­›é€‰ä¸æœç´¢
- âœ… ç­¾åˆ°æ‰“å¡ç³»ç»Ÿ
- âœ… ç§¯åˆ†ç³»ç»Ÿ
- âœ… å­¦ç”Ÿä¿¡æ¯ç»‘å®š
- âœ… äº‘ç«¯æ•°æ®åŒæ­¥

### å¼€å‘ä¸­
- ğŸš§ å›¾ç‰‡è¯†åˆ«åŠŸèƒ½ï¼ˆOCR + å¤šæ¨¡æ€AIï¼‰
- ğŸš§ æˆå°±ç³»ç»Ÿè¯¦ç»†é¡µé¢
- ğŸš§ å­¦ä¹ è®°å½•å¯è§†åŒ–
- ğŸš§ ç§¯åˆ†å•†åŸ

### è®¡åˆ’ä¸­
- ğŸ“… ç¤¾åŒºäº’åŠ¨åŠŸèƒ½
- ğŸ“… æ¯æ—¥åè¯ˆéª—æµ‹éªŒ
- ğŸ“… æ¡ˆä¾‹åˆ†æè§†é¢‘
- ğŸ“… é˜²éª—èƒ½åŠ›è¯„ä¼°
- ğŸ“… åˆ†äº«åŠŸèƒ½ï¼ˆç”Ÿæˆåè¯ˆæµ·æŠ¥ï¼‰

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ã€æå‡ºå»ºè®®æˆ–æŠ¥å‘Šé—®é¢˜ï¼

### è´¡çŒ®æ–¹å¼
1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æäº¤ Pull Request

### ä»£ç è§„èŒƒ
- ä½¿ç”¨ 2 ç©ºæ ¼ç¼©è¿›
- å˜é‡å’Œå‡½æ•°ä½¿ç”¨é©¼å³°å‘½å
- æ·»åŠ å¿…è¦çš„æ³¨é‡Š
- éµå¾ªå¾®ä¿¡å°ç¨‹åºæœ€ä½³å®è·µ

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT License](LICENSE) å¼€æºåè®®ã€‚

---

## ğŸ‘¥ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿è”ç³»ï¼š

- **é¡¹ç›®è´Ÿè´£äºº**: 
- **é‚®ç®±**: 
- **å¾®ä¿¡**: 

---

## ğŸ™ è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®å’ŒæœåŠ¡ï¼š

- [å¾®ä¿¡å°ç¨‹åº](https://developers.weixin.qq.com/miniprogram/dev/framework/)
- [å¾®ä¿¡äº‘å¼€å‘](https://developers.weixin.qq.com/miniprogram/dev/wxcloud/basis/getting-started.html)
- [é€šä¹‰åƒé—® (Qwen)](https://tongyi.aliyun.com/)
- [é˜¿é‡Œäº‘ DashScope](https://dashscope.aliyun.com/)

---

## ğŸ“Œ å…è´£å£°æ˜

æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ï¼Œæä¾›çš„åè¯ˆéª—çŸ¥è¯†ä»…ä½œä¸ºå‚è€ƒã€‚å¦‚é‡åˆ°å®é™…è¯ˆéª—æƒ…å†µï¼Œè¯·åŠæ—¶æ‹¨æ‰“ï¼š

- **å…¨å›½åè¯ˆä¸“çº¿**: 96110
- **æŠ¥è­¦ç”µè¯**: 110

---

<div align="center">

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸€ä¸ªæ˜Ÿæ ‡æ”¯æŒï¼**

Made with â¤ï¸ by åè¯ˆå«å£«å›¢é˜Ÿ

</div>
