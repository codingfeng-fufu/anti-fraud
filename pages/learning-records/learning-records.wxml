<!--
å­¦ä¹ è®°å½•é¡µé¢ - å­¦ä¹ è®°å½•æ¨¡å—

ä¸Šæ¸¸ä¾èµ–ï¼šlearning-records.jsé¡µé¢é€»è¾‘ï¼Œlearning-records.wxssæ ·å¼æ–‡ä»¶
å…¥å£ï¼šé€šè¿‡"æˆ‘çš„"é¡µé¢è·³è½¬è‡³/pages/learning-records/learning-records
ä¸»è¦åŠŸèƒ½ï¼šå±•ç¤ºç”¨æˆ·é˜…è¯»å†å²ã€å­¦ä¹ ç»Ÿè®¡ã€é˜…è¯»è¿›åº¦
è¾“å‡ºï¼šæ¸²æŸ“å­¦ä¹ è®°å½•ç•Œé¢ï¼Œè§¦å‘äº‹ä»¶å¤„ç†å™¨

é‡è¦ï¼šæ¯å½“æ‰€å±çš„ä»£ç å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå¿…é¡»å¯¹ç›¸åº”çš„æ–‡æ¡£è¿›è¡Œæ›´æ–°æ“ä½œï¼
-->
<view class="learning-records-container">
  <!-- é¡¶éƒ¨å¯¼èˆª -->
  <view class="page-header">
    <view class="header-title">å­¦ä¹ è®°å½•</view>
    <view class="header-right"></view>
  </view>

  <!-- å­¦ä¹ ç»Ÿè®¡å¡ç‰‡ -->
  <view class="stats-card">
    <view class="stats-grid">
      <view class="stat-item">
        <view class="stat-value">{{stats.totalReadCount}}</view>
        <view class="stat-label">æ€»é˜…è¯»</view>
      </view>
      <view class="stat-item">
        <view class="stat-value">{{stats.recentReadCount}}</view>
        <view class="stat-label">è¿‘7å¤©</view>
      </view>
      <view class="stat-item">
        <view class="stat-value">{{stats.consecutiveDays}}</view>
        <view class="stat-label">è¿ç»­å¤©æ•°</view>
      </view>
    </view>
  </view>

  <!-- åˆ†ç±»ç­›é€‰ -->
  <view class="category-filter">
    <scroll-view scroll-x class="category-scroll">
      <view class="category-list">
        <view 
          wx:for="{{categories}}" 
          wx:key="*this"
          class="category-item {{currentCategory === item ? 'active' : ''}}"
          bindtap="switchCategory"
          data-category="{{item}}"
        >
          <text class="category-text">{{item === 'all' ? 'å…¨éƒ¨' : item}}</text>
        </view>
      </view>
    </scroll-view>
  </view>

  <!-- å­¦ä¹ è®°å½•åˆ—è¡¨ -->
  <view class="records-list">
    <view wx:if="{{records.length === 0 && !loading}}" class="empty-state">
      <text class="empty-icon">ğŸ“–</text>
      <view class="empty-text">è¿˜æ²¡æœ‰å­¦ä¹ è®°å½•</view>
      <view class="empty-hint">å»é˜…è¯»åè¯ˆæ–‡ç« å§ï¼</view>
    </view>

    <view wx:for="{{records}}" wx:key="_id" class="record-item">
      <view class="record-icon">ğŸ“š</view>
      <view class="record-content">
        <view class="record-title">{{item.articleTitle}}</view>
        <view class="record-meta">
          <text class="record-category">{{item.articleCategory}}</text>
          <text class="record-time">{{item.readAt}}</text>
        </view>
      </view>
      <view wx:if="{{item.isFirstRead}}" class="record-badge">é¦–æ¬¡</view>
    </view>

    <!-- åŠ è½½æ›´å¤š -->
    <view wx:if="{{loading}}" class="loading-more">
      <text>åŠ è½½ä¸­...</text>
    </view>
    
    <view wx:if="{{!hasMore && records.length > 0}}" class="no-more">
      <text>æ²¡æœ‰æ›´å¤šäº†</text>
    </view>
  </view>
</view>