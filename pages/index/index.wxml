<!--pages/index/index.wxml-->
<view class="index-container">
  <!-- é¡¶éƒ¨æœç´¢æ  -->
  <view class="top-bar">
    <view class="top-title">
      <text class="title-icon">ğŸ›¡ï¸</text>
      <text class="title-text">åè¯ˆå«å£«</text>
    </view>
    <view class="subtitle">å®ˆæŠ¤æ ¡å›­ï¼Œè¯†ç ´éª—å±€</view>
  </view>

  <view class="search-bar">
    <input 
      class="search-input" 
      type="text" 
      placeholder="æœç´¢åè¯ˆçŸ¥è¯†ã€å…¸å‹æ¡ˆä¾‹..."
      bindconfirm="handleSearch"
    />
    <text class="search-icon">ğŸ”</text>
  </view>

  <!-- v3 å¿«æ·å…¥å£ -->
  <view class="quick-actions">
    <view class="qa-item" bindtap="goQuiz">
      <view class="qa-icon">ğŸ§ </view>
      <view class="qa-text">è¶£å‘³ç­”é¢˜</view>
    </view>
    <view class="qa-item" bindtap="goScamReport">
      <view class="qa-icon">ğŸ“£</view>
      <view class="qa-text">è¯ˆéª—åé¦ˆ</view>
    </view>
  </view>

  <!-- è½®æ’­å›¾ -->
  <view class="banner-slider">
    <swiper 
      class="slider-container" 
      indicator-dots 
      indicator-color="rgba(255,255,255,0.5)"
      indicator-active-color="#ffffff"
      autoplay 
      interval="3000" 
      circular
    >
      <swiper-item wx:for="{{banners}}" wx:key="id" bindtap="onBannerTap" data-link="{{item.link}}">
        <view class="slide-content" style="background: {{item.bgColor || 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)'}};">
          <!-- å¦‚æœæœ‰äº‘å­˜å‚¨å›¾ç‰‡ï¼Œæ˜¾ç¤ºå›¾ç‰‡ -->
          <image wx:if="{{item.image}}" class="slide-bg" src="{{item.image}}" mode="aspectFill"></image>
          
          <!-- åŠé€æ˜é®ç½©ï¼ˆæœ‰å›¾ç‰‡æ—¶æ˜¾ç¤ºï¼Œè®©æ–‡å­—æ›´æ¸…æ™°ï¼‰ -->
          <view wx:if="{{item.image}}" class="slide-overlay"></view>
          
          <!-- æ–‡å­—å†…å®¹ -->
          <view class="slide-text">
            <view wx:if="{{item.icon}}" class="slide-icon">{{item.icon}}</view>
            <view class="slide-title">{{item.title}}</view>
            <view wx:if="{{item.desc}}" class="slide-desc">{{item.desc}}</view>
          </view>
        </view>
      </swiper-item>
    </swiper>
  </view>

  <!-- åˆ†ç±»æ ‡ç­¾ -->
  <view class="category-tabs">
    <view 
      wx:for="{{categories}}" 
      wx:key="index"
      class="tab-item {{selectedCategory === item ? 'active' : ''}}"
      bindtap="selectCategory"
      data-category="{{item}}"
    >
      {{item}}
    </view>
  </view>

  <!-- æ–°é—»åˆ—è¡¨ -->
  <view class="content-area">
    <view class="section-title">ğŸ”¥ æœ€æ–°èµ„è®¯</view>

    <view 
      wx:for="{{articles}}" 
      wx:key="id"
      class="news-card"
      bindtap="viewArticle"
      data-id="{{item.id}}"
    >
      <view class="tag tag-{{item.tagType}}">{{item.tag}}</view>
      <view class="news-title">{{item.title}}</view>
      <view class="news-meta">
        <text class="meta-time">{{item.time}}</text>
        <text class="meta-view">ğŸ‘ï¸ {{item.viewsText}}</text>
      </view>
    </view>

    <!-- åŠ è½½æ›´å¤š -->
    <view class="load-more" wx:if="{{hasMore}}">
      <text>ä¸‹æ‹‰åŠ è½½æ›´å¤š</text>
    </view>
    <view class="load-more" wx:else>
      <text>æ²¡æœ‰æ›´å¤šäº†</text>
    </view>
  </view>
</view>
