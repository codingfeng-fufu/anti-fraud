<!--
ä¸ªäººä¸»é¡µé¡µé¢ - ç¤¾äº¤/ä¸ªäººä¸»é¡µæ¨¡å— (v3)

ä¸Šæ¸¸ä¾èµ–ï¼šäº‘å‡½æ•°(getPublicProfile/followUser)
å…¥å£ï¼š/pages/profile/profile?uid=xxx
ä¸»è¦åŠŸèƒ½ï¼šå±•ç¤ºä»–äººå…¬å…±ä¸»é¡µä¿¡æ¯ï¼›å…³æ³¨/å–æ¶ˆå…³æ³¨
è¾“å‡ºï¼šæ¸²æŸ“ä¸»é¡µå†…å®¹

é‡è¦ï¼šæ¯å½“æ‰€å±çš„ä»£ç å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå¿…é¡»å¯¹ç›¸åº”çš„æ–‡æ¡£è¿›è¡Œæ›´æ–°æ“ä½œï¼
-->
<view class="container">
  <view class="page-header">
    <view class="header-title">ä¸ªäººä¸»é¡µ</view>
    <view class="header-right"></view>
  </view>

  <view class="card" wx:if="{{profile}}">
    <view class="top">
      <image class="avatar" wx:if="{{profile.avatarUrl}}" src="{{profile.avatarUrl}}" mode="aspectFill"></image>
      <view class="avatar placeholder" wx:else>ğŸ‘¤</view>
      <view class="info">
        <view class="name">{{profile.nickName || 'æœªè®¾ç½®æ˜µç§°'}}</view>
        <view class="uid">UID: {{profile.uid}}</view>
      </view>
      <button class="follow-btn {{isFollowing ? 'secondary' : ''}}" bindtap="toggleFollow">
        {{isFollowing ? 'å·²å…³æ³¨' : 'å…³æ³¨'}}
      </button>
    </view>

    <view class="stats">
      <view class="stat">
        <view class="v">{{profile.quizPoints || 0}}</view>
        <view class="k">ç­”é¢˜ç§¯åˆ†</view>
      </view>
      <view class="stat">
        <view class="v">{{profile.followerCount || 0}}</view>
        <view class="k">ç²‰ä¸</view>
      </view>
      <view class="stat">
        <view class="v">{{profile.followingCount || 0}}</view>
        <view class="k">å…³æ³¨</view>
      </view>
    </view>
  </view>

  <view class="card" wx:if="{{displayTitles.length > 0}}">
    <view class="section-title">ç§°å·</view>
    <view class="chips">
      <view wx:for="{{displayTitles}}" wx:key="titleId" class="chip">{{item.icon}} {{item.name}}</view>
    </view>
  </view>

  <view class="card" wx:if="{{displayAchievements.length > 0}}">
    <view class="section-title">å±•ç¤ºæˆå°±</view>
    <view class="ach-list">
      <view wx:for="{{displayAchievements}}" wx:key="achievementId" class="ach">
        <view class="ach-icon">{{item.icon}}</view>
        <view class="ach-info">
          <view class="ach-name">{{item.name}}</view>
          <view class="ach-desc">{{item.desc}}</view>
        </view>
      </view>
    </view>
  </view>

  <view wx:if="{{!profile && !loading}}" class="empty">åŠ è½½å¤±è´¥</view>
</view>

