<!--pages/article-detail/article-detail.wxml-->
<view class="article-container">
  <!-- æ–‡ç« å¤´éƒ¨ -->
  <view class="article-header">
    <view class="tag tag-{{article.tagType}}">{{article.tag}}</view>
    <view class="article-title">{{article.title}}</view>
    <view class="article-meta">
      <text class="meta-item">ğŸ“… {{article.time}}</text>
      <text class="meta-item">ğŸ‘ï¸ {{article.views}}</text>
      <text class="meta-item">ğŸ‘ {{article.likes}}</text>
    </view>
  </view>

  <!-- æ–‡ç« å†…å®¹ -->
  <view class="article-content">
    <rich-text nodes="{{article.content}}"></rich-text>
  </view>

  <!-- ç›¸å…³æ–‡ç« æ¨è -->
  <view class="related-section" wx:if="{{relatedArticles.length > 0}}">
    <view class="section-title">ğŸ“š ç›¸å…³æ¨è</view>
    <view 
      wx:for="{{relatedArticles}}" 
      wx:key="id"
      class="related-card"
      bindtap="viewArticle"
      data-id="{{item.id}}"
    >
      <view class="related-title">{{item.title}}</view>
      <view class="related-meta">
        <text>{{item.time}}</text>
        <text>ğŸ‘ï¸ {{item.views}}</text>
      </view>
    </view>
  </view>

  <!-- åº•éƒ¨æ“ä½œæ  -->
  <view class="article-actions">
    <button class="action-btn" bindtap="handleLike">
      <text class="action-icon">{{liked ? 'â¤ï¸' : 'ğŸ¤'}}</text>
      <text class="action-text">{{liked ? 'å·²ç‚¹èµ' : 'ç‚¹èµ'}}</text>
    </button>
    <button class="action-btn" bindtap="handleCollect">
      <text class="action-icon">{{collected ? 'â­' : 'â˜†'}}</text>
      <text class="action-text">{{collected ? 'å·²æ”¶è—' : 'æ”¶è—'}}</text>
    </button>
    <button class="action-btn" open-type="share">
      <text class="action-icon">ğŸ“¤</text>
      <text class="action-text">åˆ†äº«</text>
    </button>
  </view>
</view>

