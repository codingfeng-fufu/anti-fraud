# 通义千问 API 使用示例

## 📝 对话示例

### 示例 1：识别刷单骗局

**用户：**
```
有人在QQ群里发兼职信息，说帮淘宝店刷单，一单20元佣金，
每天能赚200-500，让我先垫付本金，完成任务后连本金和佣金一起返还。
这个可信吗？
```

**AI 回复（通义千问）：**
```
⚠️ 这是典型的刷单诈骗！强烈建议您不要参与！

🎯 骗局特征：
1. ✓ 承诺高额收入（日赚200-500）
2. ✓ 要求垫付本金
3. ✓ 承诺返还本金+佣金
4. ✓ 在QQ群等非正规渠道招聘

🔴 诈骗套路：
第1步：小额任务，快速返款（建立信任）
第2步：增加任务金额，诱导垫付更多
第3步：以"系统故障"、"任务未完成"等理由拖延
第4步：失联跑路

💡 防范建议：
• 立即退出该QQ群
• 不要垫付任何资金
• 正规企业不会要求员工垫资
• 高薪兼职都是骗局

如果已经转账，请立即报警（96110）并保留聊天记录作为证据。
```

---

### 示例 2：分析校园贷风险

**用户：**
```
我想买一部新手机，但是钱不够，看到有个APP可以分期付款，
说是专门给大学生的，利息很低，只需要学生证就能借5000元。
这个安全吗？
```

**AI 回复（通义千问）：**
```
⚠️ 请谨慎！这可能是校园贷陷阱！

🔍 需要警惕的信号：
1. "专门给大学生" - 可能是非正规贷款
2. "只需学生证" - 门槛过低，风险高
3. "利息很低" - 可能隐藏高额服务费

💰 校园贷的真实情况：
• 表面利息低，实际年化利率可能超过36%
• 各种手续费、服务费、逾期费叠加
• 一旦逾期，利滚利，还款压力巨大
• 可能遭遇暴力催收，影响学业和生活

✅ 正确做法：
1. 量力而行，理性消费
2. 可以申请正规银行的学生信用卡
3. 如确需资金，可向父母或学校求助
4. 不要在多个平台借贷

💡 判断正规贷款的方法：
• 查看是否有金融牌照
• 年化利率是否低于36%
• 合同条款是否清晰透明
• 是否在银保监会监管范围内

记住：不要为了一部手机，陷入债务陷阱！
```

---

### 示例 3：网购退款诈骗

**用户：**
```
刚才接到一个电话，对方自称是淘宝客服，说我买的东西质量有问题，
要给我双倍退款。他准确说出了我的订单号和收货地址，让我加他微信操作。
```

**AI 回复（通义千问）：**
```
🚨 这是网购退款诈骗！千万不要加微信！

⚠️ 为什么是诈骗：

1. 正规退款流程
   • 在淘宝APP内操作
   • 不需要添加客服微信
   • 不需要提供银行卡号和验证码

2. 骗子是如何知道订单信息的？
   • 信息泄露（黑市购买）
   • 快递单号泄露
   • 钓鱼网站获取

🎯 诈骗流程：
第1步：准确说出订单信息（取得信任）
第2步：要求添加QQ/微信（脱离平台监管）
第3步：发送钓鱼链接或要求下载APP
第4步：诱导输入银行卡信息和验证码
第5步：盗刷银行卡

✅ 正确应对方法：

立即操作：
1. 挂断电话，不要添加微信
2. 打开淘宝APP，在订单详情中联系客服核实
3. 或拨打淘宝官方客服：9510211

记住口诀：
• 退款不需加微信
• 客服不会要验证码
• 操作就在购物平台
• 接到电话先核实

🔐 预防措施：
• 妥善处理快递包装（撕掉个人信息）
• 不要在陌生网站填写信息
• 定期更换重要账号密码
```

---

### 示例 4：杀猪盘识别

**用户：**
```
我在社交软件上认识了一个人，聊了两周，感觉挺好的。
他说他在做投资，每天都能赚钱，还给我看了收益截图，
邀请我一起投资，说可以带我赚钱。我该相信他吗？
```

**AI 回复（通义千问）：**
```
🚨 高度警惕！这很可能是"杀猪盘"诈骗！

💔 什么是杀猪盘？
"杀猪盘"是一种情感诈骗，骗子通过建立恋爱关系，诱导受害者投资，最后卷钱跑路。

🎭 典型特征（请对照）：
✓ 社交软件搭讪（陌陌、探探、Soul等）
✓ 快速建立亲密关系（2周已经很快）
✓ 包装成功人士形象（投资、炒股、创业）
✓ 频繁晒收益截图（都是伪造的）
✓ 邀请你一起投资/赌博/刷单

🎯 诈骗流程：
第1阶段："养猪" - 建立信任（聊天、表白）
第2阶段："喂猪" - 炫耀收益（截图、提现成功）
第3阶段："杀猪" - 诱导投资（小赚→大亏→失联）

⚠️ 危险信号：
1. 从未见面/拒绝视频通话
2. 只谈投资赚钱
3. 以各种理由要钱
4. 承诺"带你赚钱"
5. 让你在不知名平台操作

💡 如何判断：
• 要求视频通话（骗子通常拒绝或找借口）
• 提出见面（骗子一定推脱）
• 拒绝投资邀请（观察对方反应）

✅ 建议：
1. 立即停止投资相关话题
2. 不要转账或投资任何金额
3. 提出见面或视频验证对方身份
4. 如对方已涉及钱财，立即拉黑并报警

❤️ 记住：
• 网恋需谨慎，未见面不转账
• 天上不会掉馅饼
• 真正爱你的人不会让你冒财务风险
• 投资需要专业知识，不是"带一带"就能赚钱的

如果您已经投资或转账，请立即报警（96110）！
```

---

### 示例 5：培训贷识别

**用户：**
```
我想学编程，在网上看到一个培训机构，说包就业，学费2万多。
我说我没钱，他们说可以帮我申请教育分期，0利息，毕业后再还。
而且承诺就业后月薪至少8000。这个可以吗？
```

**AI 回复（通义千问）：**
```
⚠️ 这是典型的"培训贷"陷阱！建议您谨慎考虑！

🎯 培训贷的套路：

第1步：虚假承诺
• "包就业"（实际上无法兑现）
• "高薪就业"（大部分学员达不到）
• "0利息"（实际隐藏高额费用）

第2步：诱导贷款
• 以"教育分期"名义办理贷款
• 在第三方金融平台申请
• 实际年化利率可能超过20%

第3步：培训质量差
• 课程内容陈旧或照搬网络免费资源
• 师资力量不足
• 就业承诺无法兑现

第4步：还款困难
• 无论是否就业，每月必须还款
• 逾期会影响个人征信
• 陷入债务困境

💰 真实情况：
• "0利息"是假的，实际综合费率15%-25%
• 2万学费，实际还款可能2.5-3万
• 大部分学员毕业后找不到承诺的高薪工作
• 培训机构收到全款，你承担所有风险

🔍 识别方法：
1. 查询机构资质（教育部门备案）
2. 搜索机构名称+投诉/退费
3. 查看合同中的实际利率
4. 了解"包就业"的具体条款

✅ 正确做法：

1. 免费学习途径：
   • B站、慕课网等免费课程
   • GitHub开源项目学习
   • 官方文档和教程

2. 如确需培训：
   • 选择口碑好的大型机构
   • 用自己的钱或向家人借款
   • 不要贷款学习
   • 仔细阅读合同，警惕陷阱

3. 核实就业承诺：
   • 要求写入合同
   • 了解违约责任
   • 询问往届学员就业情况

💡 判断标准：
• 正规机构不会强推贷款
• 真正有实力的机构不需要虚假承诺
• 编程可以自学，不一定需要培训
• 就业靠能力，不是培训机构的包票

记住：不要为了不确定的未来，背上确定的债务！
```

---

## 🎨 AI 回复的特点

### 1. 结构化输出
- 使用表情符号（⚠️ ✓ 💡 🎯）增强可读性
- 清晰的段落划分
- 要点列表化

### 2. 专业性
- 准确识别诈骗类型
- 详细分析骗局套路
- 提供具体的防范建议

### 3. 人性化
- 语气友好，关心用户
- 理解用户的困境
- 提供实际可行的解决方案

### 4. 实用性
- 明确的行动指南
- 紧急情况下的处理步骤
- 提供报警电话（96110）

---

## 🆚 对比：AI vs 本地关键词

### 本地关键词回复（未配置 API Key）

**用户：** "有人让我刷单，可信吗？"

**本地回复：**
```
刷单兼职诈骗是针对大学生的常见骗局！

骗局特征：
• 声称轻松赚钱，日入上千
• 要求先垫付本金
• 承诺返还本金+佣金

防范建议：
✓ 天上不会掉馅饼
✓ 不要轻信高薪兼职
✓ 不要垫付任何资金

如果已经被骗，请立即报警！
```

### AI 智能回复（配置了 API Key）

**用户：** "有人让我刷单，说第一单只需要垫付50元，完成后马上返还55元，后面任务金额会增加，佣金也更高。我试了第一单，真的返款了，现在他让我做第二单，垫付500元。我该继续吗？"

**AI 回复：**
```
🚨 停！不要继续！这就是刷单诈骗的经典套路！

您现在处于诈骗的第2阶段：

第1阶段（已完成）：小额返利
• 垫付50元，返还55元 ✓
• 目的：建立信任，让你放松警惕

第2阶段（当前）：增加金额
• 垫付500元 ← 您在这里
• 目的：骗取更多钱财

第3阶段（即将发生）：失联跑路
• 以各种理由不返款
• "系统故障"、"任务未完成"
• 要求继续垫付"激活账户"
• 最终失联

💰 为什么第一单会返款？
骗子故意返款给你，就是为了让你相信这是真的，
从而投入更大金额。50元是他们的"投资成本"，
目标是骗你500、5000甚至更多！

⚠️ 现在的处理建议：

立即行动：
1. 停止所有后续任务
2. 不要再转账任何金额
3. 拉黑对方联系方式
4. 保存聊天记录和转账截图
5. 到就近派出所报案

不要抱有幻想：
• "我已经垫了钱，做完任务就能要回来" ❌
• "第一单返款了，应该是真的" ❌
• "再做一单，把前面的钱赚回来" ❌

这些想法正是骗子期望的！越陷越深！

💡 记住：
• 正规企业不需要员工垫付资金
• 刷单本身就是违法行为
• 第一单返款是诱饵，后面才是陷阱

您现在损失还小（只是时间），如果继续，
500元、5000元就打水漂了！

建议立即报警：96110（反诈专线）
```

**区别：**
- 本地回复：通用模板，无法针对具体情况
- AI 回复：深入分析用户的具体情况，提供个性化建议

---

## 💡 优化提示

### 如何让 AI 回复更好？

#### 1. 优化系统提示词

在 `cloudfunctions/aiChat/index.js` 中修改 `systemPrompt`：

```javascript
const systemPrompt = `你是中央财经大学的反诈骗AI助手，专门为本校学生提供防诈骗咨询。

你需要特别关注大学生群体常见的诈骗类型：
1. 刷单兼职诈骗（最常见，占40%）
2. 校园贷、培训贷（金额大，危害严重）
3. 网购退款诈骗（信息泄露导致）
4. 杀猪盘（感情诈骗）
5. 虚假招聘（实习、兼职）
6. 游戏充值、账号交易诈骗
7. 冒充老师、同学借钱

回答要求：
1. 语言亲切，像学长学姐一样关心学弟学妹
2. 结合学校场景（如"可以向辅导员求助"）
3. 提供明确的行动指南
4. 情况严重时，建议报警或联系学校保卫处
5. 使用表情符号，提高可读性

回复结构：
• 风险判断（是否是诈骗）
• 原因分析（为什么是诈骗）
• 应对措施（具体怎么做）
• 预防建议（如何避免再次上当）

请用专业、友好的态度帮助学生识别和防范诈骗。`
```

#### 2. 添加案例库

在系统提示词中加入真实案例：

```javascript
const systemPrompt = `...

近期校内案例参考：
- 2024年3月，某同学因刷单被骗8000元
- 2024年5月，某同学遭遇培训贷，背负2万债务
- 2024年7月，某同学差点被"杀猪盘"骗走3万元

请结合这些案例，为学生提供更有针对性的建议。`
```

---

## 📊 效果对比

### 准确性

| 场景 | 本地关键词 | AI 智能 |
|------|-----------|---------|
| 简单问题识别 | ⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ |
| 复杂情况分析 | ⭐⭐ | ⭐⭐⭐⭐⭐ |
| 个性化建议 | ⭐ | ⭐⭐⭐⭐⭐ |
| 上下文理解 | ❌ | ⭐⭐⭐⭐⭐ |

### 用户体验

| 方面 | 本地关键词 | AI 智能 |
|------|-----------|---------|
| 回复速度 | ⚡⚡⚡ 极快 | ⚡⚡ 2-5秒 |
| 回复质量 | ⭐⭐⭐ 基础 | ⭐⭐⭐⭐⭐ 专业 |
| 自然度 | ⭐⭐ 生硬 | ⭐⭐⭐⭐⭐ 流畅 |
| 适应性 | ⭐⭐ 固定 | ⭐⭐⭐⭐⭐ 灵活 |

---

## 🎉 总结

通过集成通义千问3 API，您的反诈骗小程序拥有了：

✅ **智能理解**：准确识别用户的真实意图
✅ **专业回复**：提供专业的反诈骗建议
✅ **上下文记忆**：支持连续对话
✅ **个性化服务**：针对具体情况给出建议
✅ **自然交互**：像真人专家一样对话

**立即配置 API Key，让您的 AI 助手更智能！** 🚀

