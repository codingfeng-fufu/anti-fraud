# 超简化配置指南 - 单学校版本

## 🎉 好消息！

只有一个学校（中央财经大学），**不需要数据库！**

所有学校信息已经硬编码在代码里，直接可以使用！

---

## ✅ 只需要 2 步！

### 步骤 1：创建 users 集合（必须）

```
1. 打开微信开发者工具
2. 点击「云开发」按钮
3. 进入「数据库」
4. 点击「+」创建集合
5. 集合名称输入：users
6. 点击确定
```

**就这一个集合！**

---

### 步骤 2：部署云函数（必须）

```
1. 找到 cloudfunctions/bindStudent 文件夹
2. 右键 → 上传并部署：云端安装依赖
3. 等待部署完成（约1分钟）
```

**就这一个云函数！**

（getSchools 云函数不需要了）

---

## 🎯 完成！立即测试

1. **重新编译项目**
   ```
   点击「编译」按钮
   ```

2. **打开小程序**
   - 等待 2 秒会弹出绑定提示

3. **测试绑定**
   ```
   点击「去绑定」
   ↓
   学校自动显示：中央财经大学 ✓
   ↓
   输入学号：2023010001（测试用）
   ↓
   选择院系：金融学院（可选）
   ↓
   提交绑定
   ↓
   成功！获得 50 积分
   ```

---

## 📋 院系列表（已内置）

用户可以选择以下 10 个学院：

1. ✅ 金融学院
2. ✅ 会计学院
3. ✅ 经济学院
4. ✅ 商学院
5. ✅ 财政税务学院
6. ✅ 法学院
7. ✅ 保险学院
8. ✅ 统计与数学学院
9. ✅ 信息学院
10. ✅ 文化与传媒学院

**院系信息已写在代码里，不需要数据库！**

---

## 🎓 学号规则

- **格式**：必须是 10 位数字
- **示例**：2023010001
- **自动验证**：提交时会检查格式

---

## 📱 用户体验

```
打开小程序
  ↓
自动登录（后台完成）
  ↓
2秒后弹窗提示「完善学生信息」
  ↓
点击「去绑定」
  ↓
【学校】自动显示：中央财经大学 ✓
  ↓
【学号】输入10位数字
  ↓
【真实姓名】选填
  ↓
【院系】下拉选择（可选）
  ↓
【年级】下拉选择（可选）
  ↓
【手机号】选填
  ↓
点击「提交绑定」
  ↓
成功！获得 50 积分奖励 🎁
```

---

## 🔍 与复杂版本的对比

| 项目 | 复杂版本 | 简化版本 ✅ |
|------|---------|------------|
| 需要创建的集合 | 4个 | 1个 |
| 需要导入的数据 | 学校+院系+专业 | 无需导入 |
| 需要部署的云函数 | 2个 | 1个 |
| 学校选择 | 下拉选择 | 自动显示 |
| 院系选择 | 需要数据库 | 代码内置 |
| 配置时间 | 5-10分钟 | 2分钟 |

---

## ⚠️ 简化说明

### 已硬编码的信息：

1. **学校信息**
   ```javascript
   schoolId: 'CUFE'
   schoolName: '中央财经大学'
   studentIdPattern: '\d{10}'
   ```

2. **院系列表**
   ```javascript
   10个学院直接写在代码里
   用户可以下拉选择
   ```

3. **学号验证**
   ```javascript
   自动验证10位数字格式
   ```

### 不需要的部分：

- ❌ schools 数据库集合
- ❌ colleges 数据库集合
- ❌ majors 数据库集合
- ❌ getSchools 云函数
- ❌ 任何数据导入操作

---

## 💡 如果以后要添加其他学校

只需要修改代码中的学校信息：

```javascript
// pages/bind-student/bind-student.js
schoolInfo: {
  schoolId: 'XXX',
  schoolName: '其他大学',
  studentIdPattern: '\\d{10}',
  studentIdExample: '2023010001'
}
```

---

## 🎉 总结

**超级简单！只需要：**

1. ✅ 创建 1 个数据库集合（users）
2. ✅ 部署 1 个云函数（bindStudent）
3. ✅ 重新编译
4. ✅ 测试绑定

**不需要任何数据导入！2分钟搞定！**

---

## 📝 快速检查清单

- [ ] users 集合已创建
- [ ] bindStudent 云函数已部署
- [ ] 项目已重新编译
- [ ] 测试绑定成功

---

**就这么简单！现在就可以测试了！** 🚀

有问题随时问我！

